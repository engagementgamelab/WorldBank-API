<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>server/config/servers/web.js - Engagement Lab World Bank API</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="../assets/favicon.ico">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="../assets/css/logo.png" title="Engagement Lab World Bank API" width="117" height="52"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.0.18</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/actions.analytics.html">actions.analytics</a></li>
                                <li><a href="../classes/actions.auth.html">actions.auth</a></li>
                                <li><a href="../classes/actions.gameData.html">actions.gameData</a></li>
                                <li><a href="../classes/actions.plan.html">actions.plan</a></li>
                                <li><a href="../classes/actions.user.html">actions.user</a></li>
                                <li><a href="../classes/api.config.global.default.html">api.config.global.default</a></li>
                                <li><a href="../classes/api.config.global.production.html">api.config.global.production</a></li>
                                <li><a href="../classes/api.config.global.staging.html">api.config.global.staging</a></li>
                                <li><a href="../classes/api.config.mongo.html">api.config.mongo</a></li>
                                <li><a href="../classes/api.config.redis.html">api.config.redis</a></li>
                                <li><a href="../classes/api.config.routes.html">api.config.routes</a></li>
                                <li><a href="../classes/api.config.servers.default.html">api.config.servers.default</a></li>
                                <li><a href="../classes/api.config.servers.production.html">api.config.servers.production</a></li>
                                <li><a href="../classes/CSSPlugin.html">CSSPlugin</a></li>
                                <li><a href="../classes/initializers.auth.middleware.html">initializers.auth.middleware</a></li>
                                <li><a href="../classes/initializers.config.html">initializers.config</a></li>
                                <li><a href="../classes/initializers.mongo.html">initializers.mongo</a></li>
                                <li><a href="../classes/models.plan.html">models.plan</a></li>
                                <li><a href="../classes/models.user.html">models.user</a></li>
                            </ul>
                
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/api.html">api</a></li>
                                <li><a href="../modules/TweenJS.html">TweenJS</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1 class="file-heading">File: server/config/servers/web.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/* 
World Bank API
Created by Engagement Lab, 2015
==============
 web.js
 Web server config file.

 Created by Johnny Richardson on 4/18/15.
==============
*/

/**
 *
 * Defines base server config
 * @namespace api.config.servers
 * @class default
 * @constructor
 * @static
 **/
 exports.default = {
  servers: {
    web: function(api){
      return {
        enabled: true,
        // HTTP or HTTPS?
        secure: false,
        // Passed to https.createServer if secure=true. Should contain SSL certificates
        serverOptions: {},
        // Port or Socket Path
        port: process.env.PORT || 3000,
        // Which IP to listen on (use &#x27;0.0.0.0&#x27; for all; &#x27;::&#x27; for all on ipv4 and ipv6)
        // Set to &#x60;null&#x60; when listening to socket
        bindIP: &#x27;0.0.0.0&#x27;,
        // Any additional headers you want actionhero to respond with
        httpHeaders : {
          &#x27;X-Powered-By&#x27;                : api.config.general.serverName,
          &#x27;Access-Control-Allow-Credentials&#x27;: &#x27;true&#x27;,
          &#x27;Access-Control-Allow-Origin&#x27; : &#x27;*&#x27;,
          &#x27;Access-Control-Allow-Methods&#x27;: &#x27;HEAD, GET, POST, PUT, PATCH, DELETE, OPTIONS, TRACE&#x27;,
          &#x27;Access-Control-Allow-Headers&#x27;: &#x27;Content-Type, Accept, X-Access-Token, X-Application-Name, X-Request-Sent-Time, X-Requested-With, x-sessionid&#x27;,
          &#x27;Accept-Encoding&#x27;: &#x27;gzip&#x27;
        },
        // Route that actions will be served from; secondary route against this route will be treated as actions,
        //  IE: /api/?action=test == /api/test/
        urlPathForActions : &#x27;api&#x27;,
        // Route that static files will be served from;
        //  path (relative to your project root) to serve static content from
        //  set to &#x60;null&#x60; to disable the file server entirely 
        urlPathForFiles : &#x27;public&#x27;,
        // When visiting the root URL, should visitors see &#x27;api&#x27; or &#x27;file&#x27;?
        //  Visitors can always visit /api and /public as normal
        rootEndpointType : &#x27;file&#x27;,
        // simple routing also adds an &#x27;all&#x27; route which matches /api/:action for all actions
        simpleRouting : true,
        // queryRouting allows an action to be defined via a URL param, ie: /api?action=:action
        queryRouting : true,
        // The header which will be returned for all flat file served from /public; defined in seconds
        flatFileCacheDuration : 60,
        // How many times should we try to boot the srever?
        // This might happen if the port is in use by another process or the socketfile is claimed
        bootAttempts: 1,
        // Settings for determining the id of an http(s) request (browser-fingerprint)
        fingerprintOptions : {
          cookieKey: &#x27;sessionid&#x27;,
          toSetCookie: true,
          onlyStaticElements: true,
          settings: {
            path: &#x27;/&#x27;,
            expires: 3600000,
          }
        },
        // Options to be applied to incoming file uploads.
        //  More options and details at https://github.com/felixge/node-formidable
        formOptions: {
          uploadDir: &#x27;/tmp&#x27;,
          keepExtensions: false,
          maxFieldsSize: 1024 * 1024 * 100
        },
        // Should we pad JSON responses with whitespace to make them more human-readable?
        // set to null to disable
        padding: 2,
        // Options to configure metadata in responses
        metadataOptions: {
          serverInformation: false,
          requesterInformation: false
        },
        // When true, returnErrorCodes will modify the response header for http(s) clients if connection.error is not null.
        //  You can also set connection.rawConnection.responseHttpCode to specify a code per request.
        returnErrorCodes: true,
        // should this node server attempt to gzip responses if the client can accept them?
        // this will slow down the performance of actionhero, and if you need this funcionality, it is recommended that you do this upstream with nginx or your load balancer
        compress: true
      }
    }
  }
}

/**
 *
 * Defines production server config
 * @namespace api.config.servers
 * @class production
 * @constructor
 * @static
 **/
exports.production = { 
  servers: {
    web: function(api){
      return {
        padding: null,
        metadataOptions: {
          serverInformation: false,
          requesterInformation: false
        }
      }
    }
  }
}

exports.test = {
  servers: { 
    web: function(api){
      return {
        secure: false,
        port: 18080,
        matchExtensionMime: true,
        metadataOptions: {
          serverInformation: true,
          requesterInformation: true
        }
      }
    }
  }
}
    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
